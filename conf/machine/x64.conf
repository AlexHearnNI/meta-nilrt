#@TYPE: Machine
#@NAME: x64 

#@WEBTITLE: Generic Intel x86 64-bit machine

#@DESCRIPTION: Machine configuration for a generic x86 64-bit machine

DEFAULTTUNE ?= "core2-64"
require conf/machine/include/tune-core2.inc
require conf/machine/include/x86-base.inc

MACHINE_EXTRA_RRECOMMENDS += "lms"
MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += "kernel-module-ipv6 kernel-module-igb kernel-module-i915 kernel-module-video \
					kernel-module-thermal_sys kernel-module-i2c_algo_bit kernel-module-intel_agp \
					kernel-module-intel_gtt kernel-module-drm_kms_helper kernel-module-coretemp \
					kernel-module-drm kernel-module-button kernel-module-agpgart kernel-module-backlight"

KERNEL_MODULE_AUTOLOAD += "ipv6"
KERNEL_MODULE_AUTOLOAD += "igb"
KERNEL_MODULE_AUTOLOAD += "i915"
KERNEL_MODULE_AUTOLOAD += "video"
KERNEL_MODULE_AUTOLOAD += "thermal_sys"
KERNEL_MODULE_AUTOLOAD += "i2c_algo_bit"
KERNEL_MODULE_AUTOLOAD += "intel_agp"
KERNEL_MODULE_AUTOLOAD += "intel_gtt"
KERNEL_MODULE_AUTOLOAD += "drm_kms_helper"
KERNEL_MODULE_AUTOLOAD += "coretemp"
KERNEL_MODULE_AUTOLOAD += "drm"
KERNEL_MODULE_AUTOLOAD += "button"
KERNEL_MODULE_AUTOLOAD += "agpgart"
KERNEL_MODULE_AUTOLOAD += "backlight"

PREFERRED_PROVIDER_virtual/xserver ?= "xserver-xorg"
PREFERRED_PROVIDER_virtual/libgl ?= "mesa"
PREFERRED_PROVIDER_virtual/libgles1 ?= "mesa"
PREFERRED_PROVIDER_virtual/libgles2 ?= "mesa"
PREFERRED_PROVIDER_virtual/kernel ?= "linux-nilrt"

XSERVER = "${XSERVER_X86_BASE} \
	   ${XSERVER_X86_EXT} \
	   ${XSERVER_X86_I915} \
	   ${XSERVER_X86_I965} \
	   ${XSERVER_X86_VESA} \
	   ${XSERVER_X86_FBDEV} \
	   ${XSERVER_X86_MODESETTING} \
           mesa-driver-swrast \
           xf86-input-vmmouse \
           xf86-video-vmware \
           libgl-mesa \
"

# for evdev
VIRTUAL-RUNTIME_dev_manager ?= "udev"
