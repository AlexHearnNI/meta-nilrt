#@TYPE: Machine
#@Name: Xilinx Zynq Platform
#@DESCRIPTION: Machine configuration for Xilinx Zynq-7000

TARGET_ARCH = "arm"
#tune for the ARM Cortex A9
DEFAULTTUNE ?= "cortexa9hf-vfpv3"
require conf/machine/include/tune-cortexa9.inc

MACHINE_ARCH = "${@[d.getVar('TUNE_PKGARCH', True), d.getVar('MACHINE', True)][bool(d.getVar('MACHINE', True))]}"

MACHINE_FEATURES = "apm ext2 vfat ethernet screen usbgadget usbhost wifi"

SERIAL_CONSOLES = "115200;ttyS0"

INITRAMFS_FSTYPES = "cpio.gz.u-boot"

# we're not building a full u-boot in OE to be used on NI devices, just the
# fw_{print|set}env and mkimage utils + a fw_env.config file so we use the
# generic machine.
UBOOT_MACHINE ?= "config"

KERNEL_DEVICETREE = "\
        ni-762F.dtb \
        ni-76D3.dtb \
        ni-76D6.dtb \
        ni-76F2.dtb \
        ni-7740.dtb \
        ni-7741.dtb \
        ni-7742.dtb \
        ni-7743.dtb \
        ni-7744.dtb \
        ni-774C.dtb \
        ni-774E.dtb \
        ni-775E.dtb \
        ni-77AC.dtb \
        ni-77B1.dtb \
        ni-77B2.dtb \
        ni-77D4.dtb \
        ni-77D5.dtb \
        ni-77D6.dtb \
        ni-7885.dtb \
"
