From cd7a40d6cb149e054451f41d1db4f48fc2335ead Mon Sep 17 00:00:00 2001
From: Jacob Champion <jacob.champion@ni.com>
Date: Tue, 2 Sep 2014 11:27:25 -0500
Subject: [PATCH 19/22] Don't use wincrypt.h on PharLap

The no-ssl version of libcurl uses Windows CryptoAPI for its MD5
implementation, but those entry points don't exist on PharLap. Use the
fallback instead.

Upstream-Status: Inappropriate [Pharlap specific] 
---
 lib/md5.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/md5.c b/lib/md5.c
index af39fd4..40f7fc3 100644
--- a/lib/md5.c
+++ b/lib/md5.c
@@ -121,7 +121,7 @@ static void MD5_Final(unsigned char digest[16], MD5_CTX *ctx)
   CC_MD5_Final(digest, ctx);
 }
 
-#elif defined(_WIN32)
+#elif defined(_WIN32) && !defined(PHARLAP)
 
 #include <wincrypt.h>
 
-- 
1.9.1

